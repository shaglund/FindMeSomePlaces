package se.haglund.googleapi;

import org.junit.Test;
import se.haglund.InterestingPlace;

import java.util.HashMap;
import java.util.Map;
import java.util.Set;

import static org.junit.Assert.*;

public class GoogleSearchParserTest {

    private GoogleSearchParser parser = new GoogleSearchParser();

    @Test
    public void parseTest() throws Exception {
        String testData="{ \"html_attributions\" : [], \"results\" : [ { \"geometry\" : { \"location\" : { \"lat\" : -31.0582085, \"lng\" : 130.4810858 }, \"viewport\" : { \"northeast\" : { \"lat\" : -30.4570203, \"lng\" : 132.1047668 }, \"southwest\" : { \"lat\" : -31.6870281, \"lng\" : 129.0013982 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png\", \"id\" : \"d6bd0e67c45cb98a276ff2ecc92024f9f9583624\", \"name\" : \"Nullarbor\", \"photos\" : [ { \"height\" : 2268, \"html_attributions\" : [ \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/111804567275961963563/photos\\\"\\u003eAshley Hood\\u003c/a\\u003e\" ], \"photo_reference\" : \"CoQBdwAAAOAEa2CqBYRb0R_n2UyQk28gjDq9cYjImVh_HQqmDCF7x0cigZE5daSfv9ia9gPbiyoDbbEN5wkdb27AOpvqD-MuFmX81KJKDO1CePyL42XBMnoIJ-u8nnB2ifQU3aG3k5E2BB8rhbQN_Un-yxUiAqpB6XyhGh6Sx9pr40j9Tu5PEhBKskxXBB0JAAWdp5FXxPrvGhRg1UqsJ6GhnaYq7hRo2qQoRPyE6A\", \"width\" : 4032 } ], \"place_id\" : \"ChIJP7eec2U3wioRrm4AqeYNMMs\", \"reference\" : \"CmRbAAAAqKG6_oGofMEEaksUGk2Y27hr8bH5cWq6ax_V8PMtf_proH7ORH5XtqO9hIPpZ26uoL0HqnIqgz-qq-8pYDFRCvnmpKQo6cCeEFhE4G6dw6Kcyy_RylqCFgo3-kn-WXRrEhBTls97NBgPBKVrwDm5s3prGhRpMgblAOhKAHRbYoRNk9nAM-ViXA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"locality\", \"political\" ], \"vicinity\" : \"Nullarbor\" }, { \"geometry\" : { \"location\" : { \"lat\" : -30.8586196, \"lng\" : 130.4720004 }, \"viewport\" : { \"northeast\" : { \"lat\" : -30.4583683, \"lng\" : 132.1047668 }, \"southwest\" : { \"lat\" : -31.323805, \"lng\" : 129.0013986 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png\", \"id\" : \"a18962d052434055263036f59049aca647384ae4\", \"name\" : \"Nullarbor\", \"place_id\" : \"ChIJ9SZ-WadOwioRj1M6p9L2_dA\", \"reference\" : \"CmRbAAAAT3bTaprJIMZTBnxzIUkR2Jfow6WGeazGSZbLANjfV5jEHRISIddS9uGE83q21yCRZ7UMMrplUZWHMGVYIee1ZxqTjTHxjiN3IHvXALhh4bDwaJ-_nYgZFIWshuGOGy0wEhBeN7qZIpfH3uQ8kDYu0Oz7GhQN8T701LaXNL9pqWNSWV8BCA3Csg\", \"scope\" : \"GOOGLE\", \"types\" : [ \"park\", \"premise\", \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Nullarbor\" } ], \"status\" : \"OK\" }";
        Map<String, Set<InterestingPlace>> result = new HashMap<>();
        String np = parser.parse(testData, result);

        assertNull(np);
        assertFalse(result.isEmpty());
        assertEquals(6, result.size());
        InterestingPlace ip = new InterestingPlace();
        ip.setName("Nullarbor");
        ip.setVicinity("Nullarbor");
        assertEquals(1, result.get("premise").size());
        assertTrue(result.get("premise").contains(ip));
    }

    @Test
    public void parseEmptyTest() throws Exception {
        Map<String, Set<InterestingPlace>> result = new HashMap<>();
        assertNull(parser.parse("{ \"status\": \"OK\" }", result));
        assertTrue(result.isEmpty());
    }

    @Test
    public void nextPageTokenTest() throws Exception {
        String testData="{ \"html_attributions\" : [], \"next_page_token\" : \"ANextPageToken\", \"results\" : [ { \"geometry\" : { \"location\" : { \"lat\" : 57.4090753, \"lng\" : 13.3851175 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.4904429, \"lng\" : 13.47278 }, \"southwest\" : { \"lat\" : 57.293639, \"lng\" : 13.2244481 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png\", \"id\" : \"c799b9887cd92a6e427d198b8d5629741fff459c\", \"name\" : \"Tranemo S\", \"photos\" : [ { \"height\" : 3024, \"html_attributions\" : [ \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/104775483425857463077/photos\\\"\\u003eannelie Svensson\\u003c/a\\u003e\" ], \"photo_reference\" : \"CoQBdwAAADXB6TvW-llan9qxbMrJmpXGrUj6MHLaAZ3gu_SJQ6UWX00D5zmNQnFcfc9nG5Fz1bEb7EJXaANRGDsjRBDtighDqxevs8NoOnfwLwMVi64XY4HU9pMJPZ5SnBdiUpiVk74EBy8Df3Fr02YrJs_thPBx1G8hUwNN4q0Kiz-axivrEhCVgnyMzh8BghW63G-7MhOdGhTpfQfK5rx_Ru660oMjxessLombHw\", \"width\" : 4032 } ], \"place_id\" : \"ChIJgZTKcP5jUEYRNjKN-yA8Q2E\", \"reference\" : \"CmRbAAAAN_KHTVBpK0FLxQfr9ExoHEI0zOZvR1EqXqvrx_VoQWXkk6g-aLl8_H4rVxagWS5K8yd7IlYhEWFtIieia46fivCwJhtKDPlWlf5ygVzfFqeltHpbqP8q0GqgJ5bTIxGsEhBL6PdFCT8P_X1N_oBxVlHGGhRRjV544pUJ9cvL7Xm1IK4GZZflmQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"sublocality_level_1\", \"sublocality\", \"political\" ], \"vicinity\" : \"Tranemo S\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.4231437, \"lng\" : 13.2930173 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.4231951, \"lng\" : 13.29333325 }, \"southwest\" : { \"lat\" : 57.42298949999999, \"lng\" : 13.29206945 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"5d10fad4ecdaa152ae377909ede1473135d959cc\", \"name\" : \"ABAS Protect AB\", \"photos\" : [ { \"height\" : 550, \"html_attributions\" : [ \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/112398917250429077572/photos\\\"\\u003eABAS PROTECT AB\\u003c/a\\u003e\" ], \"photo_reference\" : \"CoQBdwAAAE1VuYn5i1-EZBNhzwSG4CC6woW34GWNtI8CTFuHbe6bcldWhHMpetoYN6_6nBwCTI74C5K2AeeypK98x2rCSgMq10VqC6InjYaOU5FKyN19V13Sk-BjAyezrKOseDyhezUjtSoMBPccisrDaGauTu08XP7bnWeijaagEouj8_NCEhBSVbY0lcA5FLDjBHgZ8-WKGhQl3Yp43AtpABFqyuQB7jBkh4h2Qg\", \"width\" : 1539 } ], \"place_id\" : \"ChIJc6Q-3EtkUEYR2U8tjJdxFqU\", \"reference\" : \"CmRSAAAAJZNA670UJrMDsEKL8bhQ_sf3omhrp2ZQpz5MpcYlF2BK-Z3BFzxuWgxLTUbO1C23xFtwMK-r_0u29M4F9nUS4MWX7Bn1t8T_mrs3rlEUg1HgrSRqFh0zbzNUgkmAoZEDEhAxEhPAyN8z5trT_as0Wlw9GhT5zbVdnzoQG55aGDsIy_lALMhVeQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Gislavedsvägen 3, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42374949999999, \"lng\" : 13.2899264 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.42374965000002, \"lng\" : 13.29048655 }, \"southwest\" : { \"lat\" : 57.42374945, \"lng\" : 13.28824595 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"fc0b064d4e68f7b75b62f538aa16a3ba0536b33c\", \"name\" : \"RA Trikå AB\", \"place_id\" : \"ChIJIyLCmEtkUEYREG_RuvZy3FY\", \"reference\" : \"CmRRAAAA1bTEcxSjfvbwif3yLjvd_dzfHimclUX_qrEDENvE25yPP7qbe_I1XnhRPfXhgYqi_R4P-dNfVn9zrYBWCKkXglbHFAzle5DTQ_DDc7-TfCJ08Fd2miWlGrr8cgcn1tVuEhBajDCOKQyu9ssK8TuFr2_9GhR5HE_tVBkDdnD163uGevPtK8AO2A\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Genvägen 2, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"65954a7b4268c503935202439add273a86f18fca\", \"name\" : \"Ambjörnarps Plåtslageri AB\", \"place_id\" : \"ChIJ680IzEtkUEYRDolbWAA1WLM\", \"reference\" : \"CmRSAAAAuQiHS63XvJ55xoV-pTTDQPzIEFEknqLQV9vUCJwkitRTPdtDgQNtGXikB6XK-h6H-b1kuIlAYQp5oRx-klmU3J2sOpnnUw-4cyaibhIzot6vnyxrJg5dEgJMh7pxX7B1EhBxFNMuMpx-qGSyaujzxtSIGhRys-4a9Pgca5dfer0SXYO8M5ATxA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Älvshult Lövgärde, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"456abe59e6cd1436e9b706305dffa3927294ddd0\", \"name\" : \"S Ljungdahls Åkeri i Tranemo AB\", \"place_id\" : \"ChIJ680IzEtkUEYREfAi-IECgFY\", \"reference\" : \"CmRRAAAAWjOpiMlvgaSuWlPDyIByXIg9lb8SJ7qWZXkaPNjFmSicwaln7vjUjfhIMWpSLO_2OiaGxv88MG70ydtHGWKcYb6JxQh9IcqN8cV2PcJFza9hDCJOV3XtfYim8TqKp-RiEhCpsFM56WJVnzCwtCfz9LjVGhQMTXXBF-x_7WOLPv5aLV8pCAPWTw\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Älvshult Hansagården, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42228, \"lng\" : 13.288125 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png\", \"id\" : \"dfba2e5420c127930ab6cd339f9868c84d915276\", \"name\" : \"ICA Nära Mathyttan\", \"opening_hours\" : { \"open_now\" : true, \"weekday_text\" : [] }, \"photos\" : [ { \"height\" : 2000, \"html_attributions\" : [ \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/101053677829784506358/photos\\\"\\u003eICA Nära Mathyttan\\u003c/a\\u003e\" ], \"photo_reference\" : \"CoQBdwAAAPcq8ApIPeCvxSy6lF-NWMrIKhA_wJOzqY8_KUhLg8p5ivSqC1sJdALW58GFKHwYWdAHGcTspFuT5ylgmPOix4UykS7pojdpwH9NaRY4TJxipLgMzCxJHEkOzGkGy0kQQOsOwSHJ8daHTkJJ8WV5_oPzeGiej5aSTk22WALAgaeGEhAzK6T-vXdoYLCFmEJHdvCqGhSsmp3DCaGZiLKgT8X4o97nuqYZKQ\", \"width\" : 2000 } ], \"place_id\" : \"ChIJfcdI_kpkUEYRN37maN6__Tg\", \"reference\" : \"CmRRAAAAoxH2BVZim3iVIZGfXcDvWaGxwOYNowIFtCqWpOyyAFoac4oOzWdISQIJbsOg58_h1Xqw1ZslBOoJ-AV6k8A8GSacX5crzMT-LepB4lvy6fpkGuVD34lXQEknOFqu1nytEhA80RlBOWKYYgSELWOvaHnEGhTklIDq8Jya57ufCWU2CzHubk9Njg\", \"scope\" : \"GOOGLE\", \"types\" : [ \"grocery_or_supermarket\", \"convenience_store\", \"food\", \"store\", \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Torget, Tranemo\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"ad0caf824402abadb5c5239279bccd070d251ed7\", \"name\" : \"AB Tranemo Åkeri\", \"place_id\" : \"ChIJ680IzEtkUEYRsu8ioCD6s8A\", \"reference\" : \"CmRSAAAAedAB_YBRCJgvLDJFW2OpfOl0tD0L-27WaE0IS5dGWIambY_eLFMSszyPVqAVvTUD2HfkafkRYX3tS_W4ClYTKjMb43sU7B6aksFrKGlIIlnP-utbW3T5Kk7n2iBH8w_vEhCqDP7n5mGlpnljc7bxXI9yGhSX2DCSTCsNgyG7LUmGCuBhGb7Oqw\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"1da40ea83df33eb133fa404fa30a2b585094e44b\", \"name\" : \"Jerrys Shop In Shop\", \"place_id\" : \"ChIJ680IzEtkUEYR3BGTVhcSD7E\", \"reference\" : \"CmRSAAAAU8S2OgMB3tU5GMkVlUwevR1PdEfFGYb4Pmzmr8mp_SFju834YvsJMnCiOxsp71RRp6q_jrv_qZkAtN3qIuoIDTiS6qA0g5D1rbgEIurzpzRgiHFQELx0jx0K60P_8jzxEhDuSwsUwv-_eav7Zg8qHIu9GhRs974ar5ox7k8iqYf7VmzAnhIGDg\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Hjortronstigen 3, C/o Axelsson, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"7de8147bf35ae305877dfa8a869617fd18546f0d\", \"name\" : \"Gunnarssons Konsult i Ambjörnarp AB\", \"place_id\" : \"ChIJ680IzEtkUEYR_Ee6DnZc37A\", \"reference\" : \"CmRSAAAAcoOGDY55JOCcg52OOBZoTRwMNmuYhMYQFd5gR27ACOyZyyX494kQeVU3wV4P8kPWDcdIMvMzHfrAjaBFpMTxEULQomtJaSFHSyD4101A4aa6MEgogzEMtJBomrRGbD96EhA6nbuUL-53freuZ9MYTKixGhRN7ScecZR8RZyVkS2urtPzJE-8KA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Lidavägen 30, C/o Örjan Gunnarsson, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"6ce13245e300fd7f9d8c2a3e3a8e84d200b96717\", \"name\" : \"Ambjörnarps Såg AB\", \"place_id\" : \"ChIJ680IzEtkUEYR8DY1zlUnJq0\", \"reference\" : \"CmRSAAAAHS5fwEzhcInYxG3zI-McT4CFd0bmzfdgabZBq4dzllmrJ4ZH6bTn4XOJbDDhllCTJlz-qGOHLyctD_3AXmCqkFopdbMDH27igU9cBvTmoVKCjEIL0R6xPQiOsyxHjapkEhAFDUUvi398MIL2STMbsBzsGhQLzazP47uMC4Cmtow9PpfTtbpgYQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Heden, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"58043bc51bf36b4e3ad06c0ac65d6bbe79ff0a3b\", \"name\" : \"AK Måleri AB\", \"place_id\" : \"ChIJ680IzEtkUEYRo7bnspRpSKU\", \"reference\" : \"CmRSAAAAmBLrQfPEZsaBDBGIa4MQ_yTe1gJF4DxrKpjcNwBNX81I1t2wr7AjZrR-ytSD3uqA4PWziv97BdAnT7401WwznLG5h8DnWPo2uK393uBMh2TXp59udXKjo5cTQeaaLiMHEhBp05OSqNQIVgJ7_tHRy0acGhQhKqu4fkpvTvYKQYNqttEUvop7Sg\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Grannäs Udden, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"e1b74dac45f25a1e181a5ebc5cc57232cf6c0668\", \"name\" : \"Tony Nilsson Förvaltning AB\", \"place_id\" : \"ChIJ680IzEtkUEYRQ5gYAs77Z6E\", \"reference\" : \"CmRSAAAAhqZZTjjet1JOcwtRFaq1H5cDXoAIEgSrNJ8V_8wioerXp9Yjqi8RzBJdOA0W7YZJJt42rA_9yHcA3Kjp2xa5hn3qgv1omo6jKdlDvOzwTr9Bw7Q9crUl2hk7qLXMFJMJEhCRMKigmxS2dAHb4GK835pEGhSPmMKUx3qdEhT6_zHMOoOp5Sx3gA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Älvshult Lövgärde, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"0c6752c2edb3ea28002300d421250c0955b4cb45\", \"name\" : \"Vägabo Skola HB\", \"place_id\" : \"ChIJ680IzEtkUEYR4eRygV1OSJI\", \"reference\" : \"CmRSAAAApv7cxyhL_Id-s9fAS14mhK7dvUQkQwSJJlUDDa3b769mQ8nONfBT_3FQ4CY2eX-MzRJsh6KypsuHoezetrxJm-miR1nvd2yoPBp7M0BUVJ6kKYpGqX8bssFMAcZFkuztEhD59_PmN07FWuveozNrNOovGhRrS48ivPrhubLQOyrry3hvz_h8Jg\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Vägabo Skola, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"4cc9fc5445032235c7a94e1aceeaf4645a0d2a79\", \"name\" : \"Steven Christopher Facey\", \"place_id\" : \"ChIJ680IzEtkUEYRrzJNx4sFSmM\", \"reference\" : \"CmRRAAAAof2MwqreDDzkLhTTp62rvCI8qxirNatpulT-YR7sRwGC3ryLcgE6-8gHza4EH-1qE2YQ0Q8wteTPYR0okT9RNz4GGy4jhDYsUcKxzlfwQPuxqsbFyKjWgPf1f1A5rPQZEhAfogxkCLnS6QdES_7Jg41kGhShyO61qPv1oi8GVvsq0dMzyhVAZQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Högalid Övre Heden, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42234999999999, \"lng\" : 13.29135 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"5bbd780e2bdefc84efd0931a7585821de4820d73\", \"name\" : \"S-A Energikonsult AB\", \"place_id\" : \"ChIJ680IzEtkUEYRsxaVcrFIKRo\", \"reference\" : \"CmRRAAAA-oYnxxm8rtfZ_QVB_P_99KJVu8ZENCakV8ufLBnF7-jeUO1w1b9ujOEObwXIt-y1DWhyRGkhOYaD2ypTfHUPJnQalzZYDqnE5440_L_g8ocfehCbyEGFYBbsgckZCs7KEhBp3XcVeu1SlSt58Tpeto3LGhQFH1jiuKDfXFVA-hTUgWHYCfd61w\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.4225155, \"lng\" : 13.2884532 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/bus-71.png\", \"id\" : \"311f648f9c4007d0ad1cf510bfedd37312205cf2\", \"name\" : \"Högalid\", \"place_id\" : \"ChIJXz9nAEtkUEYRfaGsmtSisvA\", \"reference\" : \"CmRSAAAA5A7qMZLpz8RV2Q4WdlAn_sdW_goHvS_p-NHpuAbIN9W04fNsnk4k-Z17UM29aTwkTZRhJu0FX0el_jveK_iGEI1I1RqchS3ZW38Vfjio86PXse81nJbC46HI1YX1j6U8EhDAmlexqVbhFauOQh4HvAQKGhTccJHvAHne4iL8xxG84iLfxGDuKQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"bus_station\", \"transit_station\", \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Sweden\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.4223539, \"lng\" : 13.2963732 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.4231034, \"lng\" : 13.29720645 }, \"southwest\" : { \"lat\" : 57.4201054, \"lng\" : 13.29609545 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"c5c8cc71e69b42aacf283cc8f9186c7a84d2028f\", \"name\" : \"Tranemo Städservice\", \"place_id\" : \"ChIJ9yqeGklkUEYRrtNVKOMQJ9w\", \"reference\" : \"CmRSAAAA2RY1bHJUCdorDYJED2SNP5iPcLCQj6TZIOGfZ-T-qyY-2umnLxxSTkxbAKd9pyHEhGcWrOsSGU3-dOAvfYeYS-A3XhzMm5yVAS3z_Rj6RyB9CD9LY-MDTmLzB5C5xJkhEhC_h9ruDRAQwgmkHaSOFwd_GhTD7dgumuHO2MnTmy1qaYNf7sc1pw\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Gislavedsvägen 14, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.42510710000001, \"lng\" : 13.2845891 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.42513235000001, \"lng\" : 13.28465825 }, \"southwest\" : { \"lat\" : 57.42503134999999, \"lng\" : 13.28438165 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png\", \"id\" : \"7f8cd24a65f75652f4f3dec41f56d5c302786b96\", \"name\" : \"Ambjörnarps Bygg AB\", \"place_id\" : \"ChIJ_VTurrRlUEYRqpdTZ9iyCv8\", \"reference\" : \"CmRSAAAA6vnkJicBLxMM0uGRcP7ihAojyfkNbGiGIm2Ov4D2RfB63lFTA4e0C0cq88c3msDO5o3HfcE87RIrC7gUPJRUT7jRhSSEzWlVRxXSZVGadcl03ns5m4TZSqObFl-eWoJzEhB8LMQkaRGJ0Ddls1OSl9gUGhR6j4v944pMqajZW8PzS6dL-MsGSA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Smultronstigen 8, Ambjörnarp\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.421117, \"lng\" : 13.2935443 } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/bus-71.png\", \"id\" : \"1548861d374412f4b15c8f7ea9e8178c0326c56d\", \"name\" : \"Ambjörnarp centrum\", \"place_id\" : \"ChIJexevmklkUEYRPDJvvd6gp8Q\", \"reference\" : \"CmRSAAAAFHEK6uzX6d0JBeHzoEr6CcYmwduAIGqK_mkDt_9vzkMZXz0qeuCNGKeGuiS22T6f2IXyQ9INzEEoiVvv0O1B4ksMydC8hqfUyP42b4z6jjMTox3OqGMrXQtYhTHYbtcGEhA6oEQ5deYhy44IPwiC2kiSGhRv7yF-c-kKN6lVT-XLhM6zcOcTmQ\", \"scope\" : \"GOOGLE\", \"types\" : [ \"bus_station\", \"transit_station\", \"point_of_interest\", \"establishment\" ], \"vicinity\" : \"Sweden\" }, { \"geometry\" : { \"location\" : { \"lat\" : 57.47646589999999, \"lng\" : 13.2941722 }, \"viewport\" : { \"northeast\" : { \"lat\" : 57.59841099999999, \"lng\" : 13.3646338 }, \"southwest\" : { \"lat\" : 57.33537889999999, \"lng\" : 13.1352529 } } }, \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png\", \"id\" : \"78beabc73c8f3cf6513d9c48c4c211a9f9e1b803\", \"name\" : \"Tranemo V\", \"photos\" : [ { \"height\" : 2988, \"html_attributions\" : [ \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/107108514353637305126/photos\\\"\\u003eBjarne Lund\\u003c/a\\u003e\" ], \"photo_reference\" : \"CoQBdwAAAGPss0ujHV1p3C3VgO1EzfgddW9LQu49XpECmVdC6mD-hrhbpzpeDKVoyVc9y9tKfazl4lSlecxQUcMdWEftivPyEEcz4y_qHfV1cb-K6sgBkx1DqKerR0BoMPLwEqGMXVlC7yR8_TcMnrRqB9oDR1IMyWN0K8HADBb0Ph6GW3wyEhAH_6i-df3tbhI3M3WgM1GeGhTgxjzwu0ZK4CB6K6lBJ_r2mKYOAA\", \"width\" : 5312 } ], \"place_id\" : \"ChIJt33psmdlUEYRBv9b-fhQmEk\", \"reference\" : \"CmRbAAAAg8VL2Gor2GZH8bEUvx3ctQoK0fHiJC78zGGN39o7VlqYy77nH4l49Od09FMQ2oCBC-LyYzqf7eeJUSMfpktLpG0jGwamGn8SrYUegt63n2Vl4gLPVW8Hp3rfyotudi9sEhCC0tYy_QunkTrQSnLh4u8QGhSjVBR-FkFL86V7QTAlNYPoaii3mA\", \"scope\" : \"GOOGLE\", \"types\" : [ \"sublocality_level_1\", \"sublocality\", \"political\" ], \"vicinity\" : \"Tranemo V\" } ], \"status\" : \"OK\" }";
        Map<String, Set<InterestingPlace>> result = new HashMap<>();
        String np = parser.parse(testData, result);
        assertEquals("ANextPageToken", np);
    }

}